# Insomnia template tag for Truepic Webhook Signatures

For the nice rest client [Insomnia](https://insomnia.rest).

Install by going to the plugins tab in Insomnia and search for `insomia-plugin-truepic-webhook-signature` or go to https://insomnia.rest/plugins/insomia-plugin-truepic-webhook-signature and click the Install Plugin button.

The main feature is being able to generate a truepic like HMAC signatures using the request body, the timestamp of the request, and a secret key. The signature is generated using the [HMAC](https://en.wikipedia.org/wiki/HMAC) algorithm and the [SHA256](https://en.wikipedia.org/wiki/SHA-2) hash function.

This allows you simulate a Truepic Webhook and test your ability to verify the truepic-signature.

## Truepic Webhook Signatures

The `truepic-signature` header looks like this:

```
truepic-signature: t=1634066973,s=6FBEiVZ8EO79dk5XllfnG18b83ZvLt2kdxcE8FJ/BwU
```

there’s a t value that’s the timestamp of when the request was sent in seconds, and an s value that’s the signature of the
request. That signature is generated by taking the request body, the timestamp, and the secret key, and then hashing it using
the HMAC algorithm.

## Usage

Add the tag by pushing `Ctrl + Space` and search for `Truepic Webhook Signature`.

<img width="273" alt="Screenshot 2023-04-03 at 3 06 09 PM" src="https://user-images.githubusercontent.com/94476406/229603350-0138b889-8b9e-454f-8985-cd7447687523.png">

Once you add the tag it will bring up a dialog where you can provide your secret that looks like this: 

<img width="783" alt="Screenshot 2023-04-03 at 3 06 37 PM" src="https://user-images.githubusercontent.com/94476406/229603515-78eac43a-b767-4e56-9501-a64d558e6b5b.png">

Once you have provided your secret and hit Done it will look like this: 

<img width="459" alt="Screenshot 2023-04-03 at 3 05 34 PM" src="https://user-images.githubusercontent.com/94476406/229603613-f73b9a59-4381-4faf-b817-1f7d02654115.png">
